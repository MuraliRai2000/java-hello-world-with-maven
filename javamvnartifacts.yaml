- hosts: all
  become_method: sudo
  connection: ssh
  become: yes

  vars:
    java_redhat_openjdk_packages:
        - java-11-openjdk-devel

  tasks:
    - name: install open jdk
      yum:
        name: "{{ item }}"
        update_cache: yes
        state: latest
      when: ansible_distribution=="RedHat"
      loop:
        - "{{ java_redhat_openjdk_packages }}"
    - name: copy mvn artifacts
      copy:
        src: target/*.jar
        dest: files
    - name: run java command
      shell: "java - jar files/*.jar > javarunoutputlogs.txt"


